#!/bin/bash

# RC\SOURCE FILES ------------------------------------------------------------

# shellcheck disable=SC1091
[ -x "${HOME}/.env" ]                   && . "${HOME}/.env"
[ -x "${HOME}/.config/shell/aliasrc" ]  && . "${HOME}/.config/shell/aliasrc"
[ -x "${HOME}/.config/fzf/fzf.sh" ]     && . "${HOME}/.config/fzf/fzf.sh"

# ----------------------------------------------------------------------------

CURRENT_SHELL=$(ps -p $$ -oargs= | sed -E "s#.*[-/]##")

# HISTORY MANAGEMENT ---------------------------------------------------------

export HISTCONTROL=ignoredups:erasedups
export HISTSIZE=1000

mkdir -p "${HOME}/.cache/${CURRENT_SHELL}"
export HISTFILE="${HOME}/.cache/${CURRENT_SHELL}/history"

export LESSHISTFILE=/dev/null

# PROMPT ---------------------------------------------------------------------

if ! which starship >/dev/null; then
  sh <(curl -sSL https://starship.rs/install.sh) \
    --bin-dir "${HOME}/.local/bin" --force
fi

eval "$(starship init "${CURRENT_SHELL}" 2>/dev/null)"

# MAN PAGE HIGHLIGHTING ------------------------------------------------------

export LESS_TERMCAP_md=$'\e[1;32m'

# ----------------------------------------------------------------------------
